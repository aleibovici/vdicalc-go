<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DNDQC1YRBV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-DNDQC1YRBV');
    </script>

    <!-- Google Sign-in -->
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id"
      content="893974452758-3kri5mk29j09q273ftqs0r1kdoh8gifi.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <title>{{ .title }}</title>
    <link href="../static/stylesheets/vdicalc.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="html">

    <div class="container-fluid">
      <!-- Google Sign-in -->
      <div align="right" class="g-signin2" data-onsuccess="onSignIn" data-theme="dark" data-longtitle="true"></div>
      <!-- Google Sign-out -->
      <div align="right"><a href="#" onclick="signOut();">Sign out</a></div>
    </div>
    <script>
      function onSignIn(googleUser) {

        var id_token = googleUser.getAuthResponse().id_token;

        var xhr = new XMLHttpRequest();
        xhr.open('POST', "{{ .authaddress }}" + '/tokensignin?id_token=' + id_token);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.send('idtoken=' + id_token + "&method=google");
      }
    </script>
    <!-- Google Sign-out -->
    <script>
      function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut();

        var xhr = new XMLHttpRequest();
        xhr.open('POST', "{{ .authaddress }}" + '/tokensignoff');
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.send();
      }
    </script>

    <div class="container-fluid">
      <p class="display-4" style="text-align: center;">{{ .title }}</p>
      <p class="lead" style="text-align: center;">{{ .titlesub }}</p>
    </div>

    <br>

    <div class="container-fluid">
      <form method="POST" action="/">

        <input type="hidden" name="submitselect" value="" id="submitselect">

        <div class="container-fluid container-input form-group">

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .vmprofilelabel }}</label>

              <select class="form-control form-control-sm dropdown-addon" id="vmprofile" name="vmprofile"
                onchange="document.getElementById('submitselect').value='vmprofile';this.form.submit()">
                {{range $key, $value := .vmprofile}}
                <option value="{{ $value }}" {{ if (eq $value $.vmprofileselected) }}selected{{ end }}>{{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col"></div>
            <div class="col"></div>
          </div>
          <br>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .vmcountlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="vmcount" name="vmcount" maxlength="5"
                value="{{ .vmcountselected }}" />
            </div>
            <div class="col">
              <label class="control-label">{{ .vmvcpucountlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="vmvcpucount"
                name="vmvcpucount">
                {{range $key, $value := .vmvcpucount}}
                <option value="{{ $value }}" {{ if (eq $value $.vmvcpucountselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .vmvcpumhzlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="vmvcpumhz" name="vmvcpumhz" data-toggle="tooltip"
                title='{{ .vmvcpumhztooltip }}' maxlength="5" value="{{ .vmvcpumhzselected }}" />
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .vmpercorecountlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="vmpercorecount"
                name="vmpercorecount">
                {{range $key, $value := .vmpercorecount}}
                <option value="{{ $value }}" {{ if (eq $value $.vmpercorecountselected) }}selected{{ end }}>{{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .vmvideoramlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="vmvideoram"
                name="vmvideoram">
                {{range $key, $value := .vmvideoram}}
                <option value="{{ $value }}" {{ if (eq $value $.vmvideoramselected) }}selected{{ end }}>{{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .vmdisksizelabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="vmdisksize" name="vmdisksize" maxlength="4"
                value="{{ .vmdisksizeselected }}" />
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .vmmemorysizelabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="vmmemorysize" name="vmmemorysize" maxlength="7"
                value="{{ .vmmemorysizeselected }}" />
            </div>
            <div class="col">
              <label class="control-label">{{ .vmdisplaycountlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="vmdisplaycount"
                name="vmdisplaycount">
                {{range $key, $value := .vmdisplaycount}}
                <option value="{{ $value }}" {{ if (eq $value $.vmdisplaycountselected) }}selected{{ end }}>{{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .vmdisplayresolutionlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="vmdisplayresolution"
                name="vmdisplayresolution">
                {{range $key, $value := .vmdisplayresolution}}
                <option value="{{ $value }}" {{ if (eq $value $.vmdisplayresolutionselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>
          </div>

          <div class="row top-buffer bottom-buffer">
            <div class="col">
              <label class="control-label">{{ .vmiopscountlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="vmiopscount" name="vmiopscount" data-toggle="tooltip"
                title='{{ .vmiopscounttooltip }}' maxlength="3" value="{{ .vmiopscountselected }}" />
            </div>
            <div class="col">
              <label class="control-label">{{ .vmiopsreadratiolabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="vmiopsreadratio" name="vmiopsreadratio" data-toggle="tooltip"
                title='{{ .vmiopsreadratiotooltip }}' maxlength="3" value="{{ .vmiopsreadratioselected }}" />
            </div>
            <div class="col">
              <label class="control-label">{{ .vmclonesizerefreshratelabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="vmclonesizerefreshrate"
                name="vmclonesizerefreshrate" data-toggle="tooltip" title='{{ .vmclonesizerefreshratetooltip }}'>
                {{range $key, $value := .vmclonesizerefreshrate}}
                <option value="{{ $value }}" {{ if (eq $value $.vmclonesizerefreshrateselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>
          </div>
        </div>

        Host

        <div class="container-fluid container-input form-group">
          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .hostsocketcountlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="hostsocketcount"
                name="hostsocketcount">
                {{range $key, $value := .hostsocketcount}}
                <option value="{{ $value }}" {{ if (eq $value $.hostsocketcountselected) }}selected{{ end }}>{{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .hostmemoryoverheadlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="hostmemoryoverhead" name="hostmemoryoverhead"
                data-toggle="tooltip" title='{{ .hostmemoryoverheadtooltip }}' maxlength="3"
                value="{{ .hostmemoryoverheadselected }}" />
            </div>
          </div>

          <div class="row top-buffer bottom-buffer">
            <div class="col">
              <label class="control-label">{{ .hostsocketcorescountlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="hostsocketcorescount"
                name="hostsocketcorescount">
                {{range $key, $value := .hostsocketcorescount}}
                <option value="{{ $value }}" {{ if (eq $value $.hostsocketcorescountselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .hostcoresoverheadlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="hostcoresoverhead" name="hostcoresoverhead"
                data-toggle="tooltip" title='{{ .hostcoresoverheadtooltip }}' maxlength="2"
                value="{{ .hostcoresoverheadselected }}" />
            </div>
          </div>
        </div>

        Storage

        <div class="container-fluid container-input form-group">
          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .storagecapacityoverheadlabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="storagecapacityoverhead"
                name="storagecapacityoverhead" data-toggle="tooltip" title='{{ .storagecapacityoverheadtooltip }}'>
                {{range $key, $value := .storagecapacityoverhead}}
                <option value="{{ $value }}" {{ if (eq $value $.storagecapacityoverheadselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>
            <div class="col">
              <label class="control-label">{{ .storagedatastorevmcountlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="storagedatastorevmcount" name="storagedatastorevmcount"
                data-toggle="tooltip" title='{{ .storagedatastorevmcounttooltip }}' maxlength="4"
                value="{{ .storagedatastorevmcountselected }}" />
            </div>
          </div>

          <div class="row top-buffer bottom-buffer">
            <div class="col">
              <label class="control-label">{{ .storagededuperatiolabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="storagededuperatio" name="storagededuperatio"
                data-toggle="tooltip" title='{{ .storagededuperatiotooltip }}' maxlength="2"
                value="{{ .storagededuperatioselected }}" />
            </div>
            <div class="col">
              <label class="control-label">{{ .storageraidtypelabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon" id="storageraidtype"
                name="storageraidtype">
                {{range $key, $value := .storageraidtype}}
                <option value="{{ $value }}" {{ if (eq $value $.storageraidtypeselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>
          </div>
        </div>

        Virtualization

        <div class="container-fluid container-input form-group">
          <div class="row top-buffer bottom-buffer">
            <div class="col">
              <label class="control-label">{{ .virtualizationclusterhostsizelabel }}</label>
            </div>
            <div class="col">
              <select class="form-control form-control-sm dropdown-addon"
                id="virtualizationclusterhostsize" name="virtualizationclusterhostsize" data-toggle="tooltip"
                title='{{ .virtualizationclusterhostsizetooltip }}'>
                {{range $key, $value := .virtualizationclusterhostsize}}
                <option value="{{ $value }}"
                  {{ if (eq $value $.virtualizationclusterhostsizeselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>

            <div class="col">
              <label class="control-label">{{ .virtualizationclusterhosthalabel }}</label>
            </div>
            <div class="col">
                <select class="form-control form-control-sm dropdown-addon"
                id="virtualizationclusterhostha" name="virtualizationclusterhostha" data-toggle="tooltip"
                title='{{ .virtualizationclusterhosthatooltip }}'>
                {{range $key, $value := .virtualizationclusterhostha}}
                <option value="{{ $value }}"
                  {{ if (eq $value $.virtualizationclusterhosthaselected) }}selected{{ end }}>
                  {{ $key }}
                </option>
                {{end}}
              </select>
            </div>              

            <div class="col">
              <label class="control-label">{{ .virtualizationmanagementservertvmcountlabel }}</label>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="virtualizationmanagementservertvmcount"
                name="virtualizationmanagementservertvmcount" data-toggle="tooltip"
                title='{{ .virtualizationmanagementservertvmcounttooltip }}' maxlength="5"
                value="{{ .virtualizationmanagementservertvmcountselected }}" />
            </div>
          </div>
        </div>

        Results

        <div class="container-fluid container-result">
          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .hostresultscountlabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-hostresults">{{ .hostresultscount }}</label>
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultscapacitylabel }}</label>
            </div>
            <div class="col  div-results">
              <label class="label-storageresults">{{ .storageresultscapacity }}</label>
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .hostresultsclockusedlabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-hostresults">{{ .hostresultsclockused }}</label>
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultsdatastoresizelabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-storageresults">{{ .storageresultsdatastoresize }}</label>
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .hostresultsvmcountlabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-hostresults">{{ .hostresultsvmcount }}</label>
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultsdatastorecountlabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-storageresults">{{ .storageresultsdatastorecount }}</label>
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .hostresultsmemorylabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-hostresults">{{ .hostresultsmemory }}</label>
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultsdatastorefroentendiopslabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-storageresults">{{ .storagedatastorefroentendiops }}</label>
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .virtualizationresultsclustercountlabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-virtualizationresults">{{ .virtualizationresultsclustercount }}</label>
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultsdatastorebackendiopslabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-storageresults">{{ .storagedatastorebackendiops }}</label>
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
              <label class="control-label">{{ .virtualizationresultsmanagementservercountlabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-virtualizationresults">{{ .virtualizationresultsmanagementservercount }}</label>
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultsfrontendiopslabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-storageresults">{{ .storageresultsfrontendiops }}</label>
            </div>
          </div>

          <div class="row top-buffer">
            <div class="col">
            </div>
            <div class="col">
            </div>
            <div class="col">
              <label class="control-label">{{ .storageresultsbackendiopslabel }}</label>
            </div>
            <div class="col div-results">
              <label class="label-storageresults">{{ .storageresultsbackendiops }}</label>
            </div>
          </div>
        </div>
        <br>

        <!-- Load and save -->
        <div class="container">
          <div class="row">
            <div class="col-md-auto">
              <select class="form-control form-control-sm" style="width: 250px;" id="usersaves" name="usersaves"
                onchange="document.getElementById('submitselect').value='usersaves';this.form.submit()">
                {{range $key, $value := .usersaves}}
                <option value="{{ $value }}">{{ $key }}</option>
                {{end}}
              </select>
            </div>
            <div class="col-md-auto">
              <button type="button" class="btn btn-primary btn-primary-addon" id="load" name="load"
                onclick="document.getElementById('submitselect').value='load';this.form.submit()">{{ .load }}</button>
            </div>
            <div class="col input-group input-group-sm">
              <input type="text" class="form-control" id="savename" name="savename" maxlength="30" value="" />
            </div>
            <div class="col-md-auto">
              <button type="button" class="btn btn-primary btn-primary-addon" id="save" name="save"
                onclick="document.getElementById('submitselect').value='save';this.form.submit()">{{ .save }}</button>
            </div>
          </div>
        </div>

        <br><br>

        <!-- Buttons -->
        <div class="container-fluid">
          <div class="row">
            <button type="button" class="btn btn-primary btn-primary-addon" id="update" name="update"
              onclick="document.getElementById('submitselect').value='update';this.form.submit()">{{ .update }}</button>
            <button type="button" class="btn btn-primary btn-primary-addon" id="print" name="print"
              onclick="window.print();return false;">{{ .print }}</button>
            <button type="button" class="btn btn-primary btn-primary-addon" id="about" name="about"
              onclick="document.getElementById('submitselect').value='about';this.form.submit()">{{ .about }}</button>
            <button target="_blank" type="button" class="btn btn-primary btn-primary-addon" id="guide" name="guide"
              onclick="window.open('http://myvirtualcloud.net/vdi-calculator-guide/'),document.getElementById('submitselect').value='guide';this.form.submit()">{{ .guide }}</button>
            <div class="col-md-auto">
              <label class="bbadge badge-danger badge-danger-addon" id="errorresults"
                name="errorresults">{{ .errorresults }}</label>
            </div>
          </div>
        </div>

      </form>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="col" style="text-align: right;">
          <a href="mailto:ableibovici@gmail.com?&subject=Bug%20Report">Report a Bug</a>
        </div>
      </div>
    </div>

    <br><br><br>

    <div class="container-fluid">
      <p class="text-center">(myvirtualcloud.net) 2020. All Rights Reserved.</p>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"></script>

  </body>

</html>